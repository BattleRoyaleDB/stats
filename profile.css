/* Aggiunte per la pagina profilo, coerenti con styles.css (tema chiaro) */

/* Hero: avatar + nickname */
.profile-hero{
  display:flex; align-items:center; gap:12px; padding:6px 2px 2px;
}
.profile-hero .nick{
  font-weight:900; font-size:18px;
}
.profile-hero .sub{
  font-size:12px;
  margin-top:2px;
}

/* Progress bar */
.progress{ margin-top:10px }
.progress .row{
  display:flex; align-items:center; justify-content:space-between;
  font-size:12px; color:var(--muted); margin:6px 2px;
}
.progress .bar{
  height:10px; border-radius:999px; background:#eef2ff; border:1px solid var(--line); overflow:hidden
}
.progress .fill{
  display:block; height:100%; width:0%;
  background:linear-gradient(90deg,#22c55e,#84cc16);
  transition:width .35s ease;
}

/* Stat grid */
.stats-grid{
  display:grid; grid-template-columns:repeat(4, minmax(0,1fr)); gap:10px;
}
.stat{
  background:#fff; border:1px solid var(--line); border-radius:12px; padding:10px; text-align:center;
  box-shadow:var(--shadow-card);
}
.stat .val{ font-weight:900; font-size:20px }
.stat .lab{ font-size:12px; color:var(--muted) }

/* Achievements root */
.ach-root{ display:grid; gap:10px }

/* Prossimo achievement (box cliccabile) */
.ach-next{
  display:flex; align-items:center; gap:12px;
  background:#fff; border:1px solid var(--line); border-radius:12px;
  padding:12px; cursor:pointer; user-select:none;
  box-shadow:var(--shadow-card);
}
.ach-next .ico{
  width:42px; height:42px; border-radius:10px;
  background:linear-gradient(135deg,#1f8cff,#9b5cf6);
  display:flex; align-items:center; justify-content:center; color:#fff; font-weight:900;
  font-size:18px;
}
.ach-next .meta{ flex:1 1 auto; min-width:0 }
.ach-next .name{
  font-weight:800; font-size:14px; line-height:1.2;
  overflow-wrap:anywhere;
}
.ach-next .sub{
  font-size:12px; color:var(--muted);
}
.ach-next .right{
  display:flex; flex-direction:column; align-items:flex-end; gap:4px;
}
.ach-next .right .remain{
  font-weight:900; font-size:13px;
  background-image:linear-gradient(90deg, var(--az1), var(--vi1));
  -webkit-background-clip:text; background-clip:text; color:transparent;
}
.ach-next .right .progress{
  font-size:11px; color:var(--muted);
}

/* Contenitore completo (inizialmente nascosto) */
.ach-all[hidden]{ display:none !important }

/* Categorie (sempre senza freccia marker) */
.ach-cat{
  border:1px solid var(--line); border-radius:12px; background:#fff; box-shadow:var(--shadow-card);
  overflow:hidden;
}
.ach-cat > summary{
  cursor:pointer; list-style:none; display:flex; align-items:center; gap:10px;
  padding:10px 12px; font-weight:800; user-select:none;
}
.ach-cat > summary::-webkit-details-marker{ display:none } /* freccia nascosta */
.ach-cat .cat-icon{ font-size:18px }
.ach-cat .cat-name{
  background-image:linear-gradient(90deg, var(--az1), var(--vi1));
  -webkit-background-clip:text; background-clip:text; color:transparent;
}
.ach-cat .cat-count{
  margin-left:auto; font-size:12px; color:var(--muted);
  background:#f3f5ff; border:1px solid var(--line); padding:2px 8px; border-radius:999px;
}
.ach-cat[open] > summary{ background:#f9fbff }
.ach-cat .ach-list{ list-style:none; margin:0; padding:8px 10px 10px; display:grid; gap:8px }
.ach{
  display:flex; align-items:center; gap:12px;
  background:#fff; border:1px solid var(--line); border-radius:12px; padding:10px;
}
.ach .ico{
  width:38px; height:38px; border-radius:10px; background:linear-gradient(135deg,#1f8cff,#9b5cf6);
  display:flex; align-items:center; justify-content:center; color:#fff; font-weight:900
}
.ach .meta{ flex:1 1 auto }
.ach .name{ font-weight:800; font-size:14px }
.ach .sub{ font-size:12px; color:var(--muted) }
.ach .lock{
  width:22px; height:22px; border-radius:999px; background:#fff; border:1px solid var(--line);
  display:flex; align-items:center; justify-content:center; color:#22c55e; font-weight:900
}
.ach[aria-checked="false"] .lock{ color:#94a3b8 }
.ach[aria-checked="false"]{ opacity:.9 }

/* Responsive */
@media (max-width:640px){
  .stats-grid{ grid-template-columns:repeat(2, minmax(0,1fr)) }
}